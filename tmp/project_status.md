# プロジェクト状況整理

## 最終更新: 2025-09-21 15:52

## プロジェクト概要
- **プロジェクト名**: ダンジョンマスター（MakeDungeons）
- **種類**: ブラウザベースのダンジョン運営ゲーム
- **技術スタック**: HTML5, CSS3, Vanilla JavaScript, Canvas API
- **GitHubリポジトリ**: https://github.com/yami-rin/MakeDungeons

## 現在の状況

### 完了済み機能
1. **基本構造**
   - index.html: メインHTMLファイル
   - styles.css: スタイルシート
   - jsフォルダ: JavaScriptファイル群

2. **ゲーム機能**
   - ✅ タイトル画面（はじめから/続きから選択）
   - ✅ ゲーム画面の基本レイアウト
   - ✅ ダンジョン管理システム（階層、部屋）
   - ✅ モンスター配置機能（5種類）
   - ✅ 罠配置機能（5種類）
   - ✅ 宝箱配置機能（5種類）
   - ✅ 冒険者AIシステム（自動侵入、戦闘）
   - ✅ DP（ダンジョンポイント）システム
   - ✅ セーブ/ロード機能（LocalStorage使用）
   - ✅ 活動ログ表示

3. **GitHubリポジトリ**
   - ✅ リポジトリ初期化済み
   - ✅ 初回コミット＆プッシュ完了
   - ✅ mainブランチに強制プッシュ

## ファイル構造
```
dungeons/
├── index.html          # メインHTML
├── styles.css          # スタイルシート
├── README.md           # プロジェクト説明
├── .gitignore          # Git除外設定
├── js/
│   ├── game.js         # ゲーム管理（GameManager）
│   ├── dungeon.js      # ダンジョン管理（DungeonData, Floor, DungeonBuilder）
│   ├── entities.js     # エンティティ（Monster, Trap, Treasure, Adventurer）
│   ├── ui.js           # UI管理（DungeonViewer）
│   └── main.js         # 初期化処理
├── tasklist/           # タスクリスト管理
└── tmp/                # 一時メモ・記憶領域
```

## ゲームの仕組み

### ゲームフロー
1. タイトル画面でゲーム開始
2. 初期DP: 1000でスタート
3. DPを使ってダンジョンに施設配置
4. 冒険者が自動で侵入（ランダムタイミング）
5. 冒険者を倒すとDP獲得
6. DPで更なる拡張

### エンティティ詳細

#### モンスター（5種類）
- スライム (Lv1, 50DP)
- ゴブリン (Lv2, 100DP)
- オーク (Lv3, 200DP)
- トロール (Lv4, 400DP)
- ドラゴン (Lv5, 800DP)

#### 罠（5種類）
- 落とし穴 (ダメージ10, 30DP)
- 矢の罠 (ダメージ15, 50DP)
- 炎の罠 (ダメージ25, 100DP)
- トゲの罠 (ダメージ20, 80DP)
- 毒ガスの罠 (ダメージ30, 150DP)

#### 宝箱（5種類）
- 小さな宝箱 (50G, 20DP)
- 宝箱 (100G, 40DP)
- 大きな宝箱 (200G, 80DP)
- 豪華な宝箱 (500G, 200DP)
- 伝説の宝箱 (1000G, 400DP)

### 建設オプション
- 新しい階層追加: 1000DP
- 部屋拡張: 500DP

## 技術的な実装詳細

### Canvas描画
- タイルサイズ: 60px
- グリッド: 10x10
- 色分け: 壁、床、入口、階段、各エンティティ

### ゲームループ
- 更新間隔: 100ms
- 冒険者スポーン確率: 0.1%/tick
- 罠のクールダウン: 5秒

### データ保存
- LocalStorageキー: 'dungeonMasterSave'
- 保存内容: DP、階層数、評判、ダンジョンデータ

## 既知の問題・改善点
- 冒険者とモンスターの実際の戦闘処理が未実装
- 冒険者の経路探索がシンプル（直線移動）
- エンティティ配置後の削除機能なし
- 音楽・効果音なし
- レスポンシブデザイン未対応